# Updated for new schema: skillCalls -> skillUsed, data -> selector, squeakCost -> newEnergy
query SkillUsedList($first: Int = 100, $skip: Int = 0) {
  skillUseds(
    first: $first
    skip: $skip
    orderBy: blockTimestamp
    orderDirection: desc
  ) {
    id
    aminal {
      id
    }
    caller {
      id
      address
    }
    skillAddress
    selector
    newEnergy
    blockTimestamp
  }
}

query SkillUsedByAminal($aminalId: String!) {
  skillUseds(
    where: { aminal: $aminalId }
    orderBy: blockTimestamp
    orderDirection: desc
  ) {
    id
    caller {
      id
      address
    }
    skillAddress
    selector
    newEnergy
    blockTimestamp
  }
}

query SkillUsedBySkill($skillAddress: Bytes!) {
  skillUseds(
    where: { skillAddress: $skillAddress }
    orderBy: blockTimestamp
    orderDirection: desc
  ) {
    id
    aminal {
      id
    }
    caller {
      id
      address
    }
    selector
    newEnergy
    blockTimestamp
  }
}
